(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{298:function(a,s,t){"use strict";t.r(s);var e=t(6),n=Object(e.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h3",{attrs:{id:"docker"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker"}},[a._v("#")]),a._v(" docker")]),a._v(" "),s("h4",{attrs:{id:"基本命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#基本命令"}},[a._v("#")]),a._v(" 基本命令")]),a._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[a._v("-- 查看docker版本\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" version\n\n-- 查看当前所有的镜像\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" images\n\n-- 删除某个镜像\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" rmi 镜像id\n\n-- 查看当前所有的容器"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("包括停止的"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ps")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-a")]),a._v("\n\n-- 查看当前运行中的容器\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ps")]),a._v("\n\n-- 停止某个容器的运行\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" stop 容器id\n\n-- 删除某个容器"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("需要先停止该容器的运行才可删除"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("rm")]),a._v(" 容器id\n\n-- 查看指定容器的ip地址（打印出来的是桥接方式的ip，对应网络docker0）\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" inspect "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--format")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'{{ .NetworkSettings.IPAddress }}'")]),a._v(" 容器id\n")])])]),s("h4",{attrs:{id:"运行相关"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#运行相关"}},[a._v("#")]),a._v(" 运行相关")]),a._v(" "),s("h5",{attrs:{id:"_1-创建以某个镜像为基础的容器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-创建以某个镜像为基础的容器"}},[a._v("#")]),a._v(" 1.创建以某个镜像为基础的容器")]),a._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--privileged")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("true "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),a._v(" openresty-demo1 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("8080")]),a._v(":8080 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("8081")]),a._v(":8081 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("8082")]),a._v(":8082 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("8083")]),a._v(":8083 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" /media/ryan/disk11/docker-nginx/logs:/usr/local/openresty/nginx/logs "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" /media/ryan/disk11/docker-nginx/conf/conf.d:/etc/nginx/conf.d "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" /media/ryan/disk11/docker-nginx/conf/nginx.conf:/usr/local/openresty/nginx/conf/nginx.conf "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" openresty/openresty\n")])])]),s("ul",[s("li",[a._v("--privileged=true: 容器内的root拥有真正root权限，否则容器内root只是外部普通用户权限")]),a._v(" "),s("li",[a._v("--name: 后面指定该容器的名称，如果所指定的容器名称已存在，将创建失败")]),a._v(" "),s("li",[a._v("-p: 后面指定端口号映射关系，冒号左边为宿主机的端口，冒号右边为容器中的端口")]),a._v(" "),s("li",[a._v("-v: 后面指定挂载的volumn(卷)或文件，冒号左边为宿主机的目录/文件，冒号右边为容器中的目录/文件，说白了就是数据外挂在宿主机上；每一个-v后只能跟一对volumn映射")]),a._v(" "),s("li",[a._v("-d: 表示此容器将运行在后台(守护运行)")]),a._v(" "),s("li",[a._v("openresty/openresty: 这个是镜像名称，也可以是镜像id")])]),a._v(" "),s("h5",{attrs:{id:"_2-进入容器中"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-进入容器中"}},[a._v("#")]),a._v(" 2.进入容器中")]),a._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[a._v("-- 这种方式进入容器中执行exit命令并不会导致容器停止运行\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("exec")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-it")]),a._v(" 容器id /bin/bash\n")])])]),s("h5",{attrs:{id:"_3-容器和宿主机之间的文件互传"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-容器和宿主机之间的文件互传"}},[a._v("#")]),a._v(" 3.容器和宿主机之间的文件互传")]),a._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[a._v("-- "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("3.1")]),a._v(" 复制容器文件到宿主机  如将容器中的/home/test.md文件复制到宿主机的/home/tmp目录下\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("cp")]),a._v(" 容器id:/home/test.md /home/tmp\n\n-- "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("3.2")]),a._v(" 复制宿主机文件到容器  如将宿主机的/home/hiahia.md文件复制到容器中的/home/con目录下\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("cp")]),a._v(" /home/hiahia.md 容器id:/home/con\n")])])])])}),[],!1,null,null,null);s.default=n.exports}}]);